<div class="container-fluid colorbg">

  <!-- Cabecera usuario -->
  <div class="container">

    <div class="row colorbg">

      <div class="col-md-4 mt-md-3 mt-4 mb-md-3 mb-2 text-center">

        <div class="preview text-center">
          <img class="preview-img" [src]="currentUser.photo" alt="Preview Image" width="200" height="200">

          <div class="browse-button">
            <input class="browse-input" type="file" required name="UploadedFile" id="UploadedFile" width="200"
              height="200">
          </div>

        </div>

      </div>

      <div class="col-md-8">

        <div class="row">
          <div class="col-md-12 text-right mt-2">

            <fa-icon class="edit mr-5" [icon]="['far', 'edit']" [routerLink]="['/editar']" *ngIf="action === 'usuario'">
            </fa-icon>

          </div>

        </div>

        <!-- cabecera del usuario -->

        <div class="cabecera-normal" *ngIf="action === 'usuario'">
          <div class="row">
            <div class="col-md-12 mt-md-3 mt-2 mr-md-2">
              <h3 class="text-center text-md-left">{{currentUser.name}} {{currentUser.surname}} -
                <span class="span">{{currentUser.nickname}}</span>
              </h3>
            </div>
          </div>

          <div class="row mt-4">

            <div class="col-md-4 col-6">

              <div class="d-flex" *ngIf='currentUser.country'>
                <i class="fa fa-map-pin mr-2 ml-2 text-center mt-1"></i>
                <p class="text-header">{{currentUser.country}}</p>
              </div>

              <div class="d-flex">
                <i class="fa fa-graduation-cap mr-1 mr-2 text-center mt-1"></i>
                <p class="text-header">{{currentUser.studies}}</p>
              </div>
            </div>

            <div class="col-md-4 col-6 ">

              <div class="d-flex">
                <i class="fa fa-linkedin-square mr-1 mr-2 text-center mt-1"></i>
                <p class="text-header">{{currentUser.linkedin}}</p>
              </div>

              <div class="d-flex">
                <i class="fa fa-briefcase mr-2 text-center mt-1"></i>
                <p class="text-header"> {{currentUser.currentWork}} </p>
              </div>
            </div>

            <div class="col-md-4 desktop">

              <div class="d-flex">
                <i class="fa fa-book mr-2 text-center mt-1"></i>
                <p class="text-header">9</p>
              </div>


              <div class="d-flex">
                <i class="fa fa-heart mr-2 mt-1 text-center"></i>
                <p class="text-header">10</p>
              </div>
            </div>

          </div>

        </div>

        <!-- cabecera a editar por el usuario -->
        <!-- form -  -->

        <form [formGroup]="editForm" (ngSubmit)="edit()" class="cabecera-ediciÃ³n mt-md-4 mb-3"
          *ngIf="action === 'editar'">

          <div class="row">

            <div class="form-group col-md-4">
              <label>{{'USER.NAME'| translate}}</label>
              <input type="text" value="{{currentUser.name}}" class="mr-2 form-control" formControl="name">
            </div>




            <div class="form-group col-md-4">
              <label>{{'USER.LASTNAME'| translate}}</label>
              <input type="text" value="{{currentUser.surname}}" class="mr-2 form-control" formControl="surname">
            </div>


            <div class="form-group col-md-4">
              <label>{{'USER.NICKNAME-USER'| translate}}</label>
              <input type="text" value="{{currentUser.nickname}}" class="form-control" formControl="nickname">
            </div>



            <div class="form-group col-md-4">
              <label>{{'USER.COUNTRY-USER'| translate}} </label>

              <i class="fa fa-map-pin ml-2 text-center mt-1"></i>
              <input type="text" value="{{currentUser.country}}" class="mb-2 form-control" formControl="country">
            </div>



            <div class="form-group col-md-4">
              <label>{{'USER.STUDIES'| translate}}</label>
              <i class="fa fa-graduation-cap text-center mt-1 ml-2"></i>
              <input type="text" value="{{currentUser.studies}}" class="form-control" formControl="studies">
            </div>



            <div class="form-group col-md-4">
              <label>{{'USER.LINKEDIN'| translate}}</label>
              <i class="fa fa-linkedin-square ml-2 text-center mt-1"></i>
              <input type="text" value="{{currentUser.linkedin}}" class="mb-2 form-control" formControl="linkedin">
            </div>



            <div class="form-group col-md-4">
              <label> {{'USER.WORD'| translate}}</label>
              <i class="fa fa-briefcase ml-2 text-center mt-1"></i>
              <input type="text" value="{{currentUser.currentWork}}" class="form-control" formControl="currentWork">
            </div>


            <div class="col-md-8 col-6 mt-4 text-right">
              <input type="submit" class="btn mr-5 mt-2 form-control" value="Guardar">
            </div>

          </div>

          <!-- fin de la cabeza a editar por el usuario -->
        </form>

      </div>

    </div>

  </div>

  <!-- stories -->
  <div class=" row color">

    <div class="container">

      <div class="row mt-3 mb-3 text-center">
        <div class="col-md-2 col-3">
          <div class="instagram_avatar_border" id="story_1" (click)="showStories(1)"></div>
        </div>
        <div class="col-md-2 col-3">
          <div class="instagram_avatar_border" id="story_2" (click)="showStories(2)"></div>
        </div>
        <div class="col-md-2 col-3">
          <div class="instagram_avatar_border" id="story_3" (click)="showStories(3)"></div>
        </div>
        <div class="col-md-2 col-3">
          <div class="instagram_avatar_border" id="story_4" (click)="showStories(4)"></div>
        </div>
        <div class="col-md-2 desktop">
          <div class="instagram_avatar_border" id="story_5" (click)="showStories(5)"></div>
        </div>
        <div class="col-md-2 desktop">
          <div class="instagram_avatar_border" id="story_6" (click)="showStories(6)"></div>
        </div>
      </div>
    </div>




  </div>

</div>

<!-- body del usuario -->


<div class="container">

  <div class="row pt-6">
    <div class="col-md-8 border rounded pt-2 pb-2">
      <h5 class="text-center pt-3">{{'USER.FAVORITE-CONCEPT'| translate}}</h5>
      <hr>

      <div class="row text-center pb-3">

        <div class="col-md-3 mt-2 favorite pt-3" *ngFor="let concept of favouriteConcepts" [routerLink]="['/conceptos']"
          [queryParams]="{searchTerm: translateService.instant(concept.title)}">
          <p>{{concept.title |translate}}</p>
        </div>


      </div>

    </div>

    <div class="ml-5 col-md-3 desktop">

      <h5 class="text-center"> {{'HEADER.TEST'| translate}}</h5>
      <p class="text-center">{{'USER.FUN'| translate}}</p>

      <button class="btn btn-block" routerLink="">{{'HEADER.WORLD-TEST'| translate}}</button>
      <button class="btn btn-block" routerLink="">{{'HEADER.POLITICAL-TEST'| translate}}</button>
    </div>
  </div>


  <div class="row mt-5 mb-5">

    <div class="col-md-6 border rounded pt-2 pb-2">
      <h5 class="text-center pt-3">{{'USER.MY-PUBLISH'| translate}}</h5>


      <div class="row">
        <div class="col-md-12">
          <p>KNAJKSBDKAHJSB</p>
        </div>
      </div>
    </div>


    <div class="col-md-5 border rounded pt-2 pb-2 mt-5 mt-md-0 ml-md-5">
      <h5 class="text-center pt-3">{{'USER.MY-POST-FAVORITE'| translate}} </h5>

      <div class="row">
        <div class="col-md-6 mt-3 favorite pt-2" *ngFor="let post of favouritePost"
          [routerLink]="['/blog/general/', post.id]" [queryParams]="{searchTerm: translateService.instant(post.title)}">
          <p> <i class="fa fa-book mr-2 text-center mt-1"></i>
            {{post.title}}
          </p>
        </div>
      </div>


    </div>

  </div>

</div>

<div class="container-fluid space-color">

  <div class="container pt-5 pb-5">


    <div class="row">
      <div class="col-md-8 desktop">
        <h5 class="text-center"> {{'USER.REMEMBER'| translate}}</h5>
        <hr class="mb-5">
        <div class="row">
          <div class="col-md-6 text-center">
            <p> {{'USER.REMEMBER-TEXT-ONE'| translate}} <strong [routerLink]="['/conceptos']">
                {{'USER.FAVORITE-CONCEPT'| translate}}.
              </strong> {{'USER.SEARCH-MAP'| translate}} <strong [routerLink]="['/mapa']"> {{'HEADER.MAP'| translate}}
              </strong> {{'USER.SEARCH-MAP-TEXT'| translate}} </p>
          </div>

          <div class="col-md-6 text-center">
            <p> {{'USER.SHARE-IDEAS'| translate}} <strong [routerLink]="['/blog/general']">
                {{'FORM-PUBLISH.CATEGORY-POLITIC'| translate}}
              </strong>, <strong [routerLink]="['/blog/general']"> {{'FORM-PUBLISH.CATEGORY-CULTURE'| translate}}
              </strong>, <strong [routerLink]="['/blog/general']">
                {{'FORM-PUBLISH.CATEGORY-ECONOMIC'| translate}}
              </strong> o
              <strong [routerLink]="['/blog/general']"> {{'FORM-PUBLISH.CATEGORY-HISTORY'| translate}} </strong>
              {{'USER.OUR'| translate}} <strong [routerLink]="['/blog/general']">
                {{'HEADER.BLOG'| translate}}

              </strong>. {{'USER.LAST-TEXT-USER'| translate}}
            </p>
          </div>
        </div>

      </div>

      <div class="offset-md-1 col-md-2 mt-md-5">

        <button class="btn btn-block" [routerLink]="['/nuevo/post']">{{'USER.PUBLISH-BLOG'| translate}}</button>
        <button class="btn btn-block mt-5" (click)="logOut()">{{'USER.LOG-OUT'| translate}}</button>

      </div>

    </div>

  </div>
</div>






<!-- Esto es de la story -->

<ng-template #content let-modal>
  <div class="modal-header border-bottom-0 px-4 pt-3">
    <div id="closeModal" class="d-flex">

      <img src="../../../assets/images/hablando.png" alt="" class="person mr-3">
      <h5 class="mt-2 text-light">WatchYourPolitics</h5>


      <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
        <span aria-hidden="true">&times;</span>&nbsp;
      </button>
    </div>
  </div>

  <div class="modal-body px-5 text-center">
    <!-- barra de carga -->
    <div class="progress">
      <div id="theBar" class="progress-bar tertiaryBgColor" role="progressbar" aria-valuenow="0" aria-valuemin="0"
        aria-valuemax="100" style="width: 0%; transition: width 0.1s ease; height: 5px;">
      </div>
    </div>
    <img [src]="this.storyImage" alt="" class="story" (mousedown)="stopStories()"
      (mouseup)="showStories(storyStep + 1)">
  </div>

  <div class="modal-footer justify-content-center px-4 border-top-0 pb-3">
    <button type="button" class="btn tertiaryBgColor quaternaryTextColor"
      (click)="showStories(storyStep - 1)">â</button>
    <!-- <button type="button" class="btn tertiaryBgColor quaternaryTextColor"
      (click)="stopStories()">Parar</button> -->
    <button type="button" class="btn tertiaryBgColor quaternaryTextColor"
      (click)="showStories(storyStep + 1)">â</button>
  </div>
</ng-template>